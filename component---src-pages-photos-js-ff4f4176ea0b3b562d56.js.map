{"version":3,"file":"component---src-pages-photos-js-ff4f4176ea0b3b562d56.js","mappings":"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","sources":["webpack://little-laffs/./node_modules/react-photoswipe-gallery/dist/no-ref-error.js","webpack://little-laffs/./node_modules/react-photoswipe-gallery/dist/helpers/sort-nodes.js","webpack://little-laffs/./node_modules/react-photoswipe-gallery/dist/helpers/object-to-hash.js","webpack://little-laffs/./node_modules/react-photoswipe-gallery/dist/helpers/hash-to-object.js","webpack://little-laffs/./node_modules/react-photoswipe-gallery/dist/helpers/get-hash-without-gid-and-pid.js","webpack://little-laffs/./node_modules/react-photoswipe-gallery/dist/helpers/get-hash-value.js","webpack://little-laffs/./node_modules/react-photoswipe-gallery/dist/helpers/get-base-url.js","webpack://little-laffs/./node_modules/react-photoswipe-gallery/dist/helpers/hash-includes-navigation-query-params.js","webpack://little-laffs/./node_modules/react-photoswipe-gallery/dist/helpers/get-initial-active-slide-index.js","webpack://little-laffs/./node_modules/react-photoswipe-gallery/dist/context.js","webpack://little-laffs/./node_modules/react-photoswipe-gallery/dist/lightbox-stub.js","webpack://little-laffs/./node_modules/react-photoswipe-gallery/dist/gallery.js","webpack://little-laffs/./node_modules/react-photoswipe-gallery/dist/item.js","webpack://little-laffs/./src/pages/photos.js"],"sourcesContent":["export class NoRefError extends Error {\n  constructor() {\n    super(...arguments);\n    /* istanbul ignore next */\n    this.message = `No valid \\`ref\\` provided.\nYou should use \\`ref\\` from render prop of Item component.\nExample:\n<Item>{({ ref }) => <div ref={ref}></div>}</Item>\\n`;\n  }\n}","import { NoRefError } from \"../no-ref-error.js\";\nfunction sortNodes(a, b) {\n  if (!(a instanceof Element) || !(b instanceof Element)) {\n    throw new NoRefError();\n  }\n  if (a === b) return 0;\n  // eslint-disable-next-line no-bitwise\n  if (a.compareDocumentPosition(b) & 2) {\n    return 1;\n  }\n  return -1;\n}\nexport default sortNodes;","function objectToHash(obj) {\n  return Object.entries(obj).map(([key, value]) => value ? `${key}=${value}` : key).join('&');\n}\nexport default objectToHash;","function hashToObject(hash) {\n  return hash.split('&').reduce((acc, keyValue) => {\n    const [key, value] = keyValue.split('=');\n    if (key) {\n      acc[key] = value;\n    }\n    return acc;\n  }, {});\n}\nexport default hashToObject;","import hashToObject from \"./hash-to-object.js\";\nimport objectToHash from \"./object-to-hash.js\";\nfunction getHashWithoutGidAndPid(hash) {\n  const obj = hashToObject(hash);\n  delete obj.gid;\n  delete obj.pid;\n  return objectToHash(obj);\n}\nexport default getHashWithoutGidAndPid;","function getHashValue() {\n  return window.location.hash.substring(1);\n}\nexport default getHashValue;","function getBaseUrl() {\n  return `${window.location.pathname}${window.location.search}`;\n}\nexport default getBaseUrl;","import hashToObject from \"./hash-to-object.js\";\nconst hashIncludesNavigationQueryParams = hash => {\n  const hashParts = hashToObject(hash);\n  return Boolean(hashParts.gid) && Boolean(hashParts.pid);\n};\nexport default hashIncludesNavigationQueryParams;","function getInitialActiveSlideIndex(index, targetId) {\n  if (index !== null) {\n    return index;\n  }\n  return targetId ? parseInt(targetId, 10) - 1 : 0;\n}\nexport default getInitialActiveSlideIndex;","import React from 'react';\nexport const Context = React.createContext({\n  remove: () => {},\n  set: () => {},\n  handleClick: () => {},\n  open: () => {}\n});","/**\n * The purpose of this class is to emulate the behavior of the PhotoSwipeLightbox\n * to provide the ability to use plugins\n */\nexport default class PhotoSwipeLightboxStub {\n  constructor(pswp) {\n    this.pswp = pswp;\n    this.on = pswp.on.bind(pswp);\n    this.off = pswp.off.bind(pswp);\n    this.dispatch = pswp.dispatch.bind(pswp);\n  }\n}","var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport PhotoSwipe from 'photoswipe';\nimport React, { useRef, useCallback, useEffect, useMemo, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport sortNodes from \"./helpers/sort-nodes.js\";\nimport objectToHash from \"./helpers/object-to-hash.js\";\nimport hashToObject from \"./helpers/hash-to-object.js\";\nimport getHashWithoutGidAndPid from \"./helpers/get-hash-without-gid-and-pid.js\";\nimport getHashValue from \"./helpers/get-hash-value.js\";\nimport getBaseUrl from \"./helpers/get-base-url.js\";\nimport hashIncludesNavigationQueryParams from \"./helpers/hash-includes-navigation-query-params.js\";\nimport getInitialActiveSlideIndex from \"./helpers/get-initial-active-slide-index.js\";\nimport { Context } from \"./context.js\";\nimport PhotoSwipeLightboxStub from \"./lightbox-stub.js\";\n/**\n * This variable stores the PhotoSwipe instance object\n * It aims to check whether does the PhotoSwipe opened at the moment\n * (analog of window.pswp in 'photoswipe/lightbox')\n */\nlet pswp = null;\n/**\n * Gallery component providing photoswipe context\n */\nexport const Gallery = ({\n  children,\n  options,\n  plugins,\n  uiElements,\n  id: galleryUID,\n  onBeforeOpen,\n  onOpen,\n  withCaption,\n  withDownloadButton\n}) => {\n  const [contentPortal, setContentPortal] = useState(null);\n  const items = useRef(new Map());\n  /**\n   * Store PID from hash if there are no items yet,\n   * but we need to open photoswipe if items appear in the next render\n   */\n  const openWhenReadyPid = useRef(null);\n  const open = useCallback((targetRef, targetId, itemIndex, e) => {\n    // only one photoswipe instance could be opened at once\n    // so if photoswipe is already open, function should do nothing\n    if (pswp) {\n      return;\n    }\n    let index = itemIndex || null;\n    const normalized = [];\n    const entries = Array.from(items.current);\n    const prepare = (entry, i) => {\n      const [ref, _a] = entry,\n        {\n          width,\n          height,\n          original,\n          originalSrcset,\n          thumbnail,\n          cropped,\n          content,\n          id: pid\n        } = _a,\n        rest = __rest(_a, [\"width\", \"height\", \"original\", \"originalSrcset\", \"thumbnail\", \"cropped\", \"content\", \"id\"]);\n      if (targetRef === ref || pid !== undefined && String(pid) === targetId) {\n        index = i;\n      }\n      normalized.push(Object.assign(Object.assign(Object.assign({\n        w: Number(width),\n        h: Number(height),\n        src: original,\n        srcset: originalSrcset,\n        msrc: thumbnail,\n        element: ref.current,\n        thumbCropped: cropped,\n        content\n      }, content !== undefined ? {\n        type: 'html'\n      } : {}), pid !== undefined ? {\n        pid\n      } : {}), rest));\n    };\n    if (items.current.size > 1) {\n      entries.sort(([{\n        current: a\n      }], [{\n        current: b\n      }]) => sortNodes(a, b)).forEach(prepare);\n    } else {\n      entries.forEach(prepare);\n    }\n    const initialPoint = e && e.clientX !== undefined && e.clientY !== undefined ? {\n      x: e.clientX,\n      y: e.clientY\n    } : null;\n    const instance = new PhotoSwipe(Object.assign({\n      dataSource: normalized,\n      index: getInitialActiveSlideIndex(index, targetId),\n      initialPointerPos: initialPoint\n    }, options || {}));\n    pswp = instance;\n    instance.on('contentActivate', ({\n      content: slideContent\n    }) => {\n      if (slideContent.data.content) {\n        setContentPortal(createPortal(slideContent.data.content, slideContent.element));\n      } else {\n        setContentPortal(null);\n      }\n    });\n    instance.on('close', () => {\n      setContentPortal(null);\n    });\n    if (withDownloadButton) {\n      instance.on('uiRegister', () => {\n        var _a;\n        (_a = instance.ui) === null || _a === void 0 ? void 0 : _a.registerElement({\n          name: 'download-button',\n          ariaLabel: 'Download',\n          order: 8,\n          isButton: true,\n          tagName: 'a',\n          appendTo: 'bar',\n          html: {\n            isCustomSVG: true,\n            inner: '<path d=\"M20.5 14.3 17.1 18V10h-2.2v7.9l-3.4-3.6L10 16l6 6.1 6-6.1ZM23 23H9v2h14Z\" id=\"pswp__icn-download\"/>',\n            outlineID: 'pswp__icn-download'\n          },\n          // can't test onInit callback correctly\n          onInit: /* istanbul ignore next */(el, pswpInstance) => {\n            el.setAttribute('download', '');\n            el.setAttribute('target', '_blank');\n            el.setAttribute('rel', 'noopener');\n            instance.on('change', () => {\n              var _a;\n              if (!((_a = pswpInstance.currSlide) === null || _a === void 0 ? void 0 : _a.data.src)) {\n                return;\n              }\n              const downloadButton = el;\n              downloadButton.href = pswpInstance.currSlide.data.src;\n            });\n          }\n        });\n      });\n    }\n    if (withCaption) {\n      instance.on('uiRegister', () => {\n        var _a;\n        (_a = instance.ui) === null || _a === void 0 ? void 0 : _a.registerElement({\n          name: 'default-caption',\n          order: 9,\n          isButton: false,\n          appendTo: 'root',\n          // can't test onInit callback correctly\n          onInit: /* istanbul ignore next */(el, pswpInstance) => {\n            /* eslint-disable no-param-reassign */\n            el.style.position = 'absolute';\n            el.style.bottom = '15px';\n            el.style.left = '0';\n            el.style.right = '0';\n            el.style.padding = '0 20px';\n            el.style.color = 'var(--pswp-icon-color)';\n            el.style.textAlign = 'center';\n            el.style.fontSize = '14px';\n            el.style.lineHeight = '1.5';\n            el.style.textShadow = '1px 1px 3px var(--pswp-icon-color-secondary)';\n            /* eslint-enable no-param-reassign */\n            instance.on('change', () => {\n              if (!pswpInstance.currSlide) {\n                return;\n              }\n              const {\n                caption,\n                alt\n              } = pswpInstance.currSlide.data;\n              // eslint-disable-next-line no-param-reassign\n              el.innerHTML = caption || alt || '';\n            });\n          }\n        });\n      });\n    }\n    if (Array.isArray(uiElements)) {\n      uiElements.forEach(uiElement => {\n        instance.on('uiRegister', () => {\n          var _a;\n          (_a = instance.ui) === null || _a === void 0 ? void 0 : _a.registerElement(uiElement);\n        });\n      });\n    }\n    if (typeof plugins === 'function') {\n      plugins(new PhotoSwipeLightboxStub(instance));\n    }\n    if (typeof onBeforeOpen === 'function') {\n      onBeforeOpen(instance);\n    }\n    const getHistoryState = () => {\n      return {\n        gallery: {\n          galleryUID\n        }\n      };\n    };\n    instance.on('beforeOpen', () => {\n      var _a;\n      if (galleryUID === undefined) {\n        return;\n      }\n      const hashIncludesGidAndPid = hashIncludesNavigationQueryParams(getHashValue());\n      // was openned by react-photoswipe-gallery's open() method call (click on thumbnail, for example)\n      // we need to create new history record to store hash navigation state\n      if (!hashIncludesGidAndPid) {\n        window.history.pushState(getHistoryState(), document.title);\n        return;\n      }\n      const hasGalleryStateInHistory = Boolean((_a = window.history.state) === null || _a === void 0 ? void 0 : _a.gallery);\n      // was openned by history.forward()\n      // we do not need to create new history record for hash navigation\n      // because we already have one\n      if (hasGalleryStateInHistory) {\n        return;\n      }\n      // was openned by link with gid and pid\n      const baseUrl = getBaseUrl();\n      const currentHash = getHashValue();\n      const hashWithoutGidAndPid = getHashWithoutGidAndPid(currentHash);\n      const urlWithoutOpenedSlide = `${baseUrl}${hashWithoutGidAndPid ? `#${hashWithoutGidAndPid}` : ''}`;\n      const urlWithOpenedSlide = `${baseUrl}#${currentHash}`;\n      // firstly, we need to modify current history record - set url without gid and pid\n      // we will return to this state after photoswipe closing\n      window.history.replaceState(window.history.state, document.title, urlWithoutOpenedSlide);\n      // then we need to create new history record to store hash navigation state\n      window.history.pushState(getHistoryState(), document.title, urlWithOpenedSlide);\n    });\n    instance.on('change', () => {\n      var _a;\n      if (galleryUID === undefined) {\n        return;\n      }\n      const pid = ((_a = instance.currSlide) === null || _a === void 0 ? void 0 : _a.data.pid) || instance.currIndex + 1;\n      const baseUrl = getBaseUrl();\n      const baseHash = getHashWithoutGidAndPid(getHashValue());\n      const gidAndPidHash = objectToHash({\n        gid: galleryUID,\n        pid\n      });\n      const urlWithOpenedSlide = `${baseUrl}#${baseHash}&${gidAndPidHash}`;\n      // updates in current history record hash value with actual pid\n      window.history.replaceState(getHistoryState(), document.title, urlWithOpenedSlide);\n    });\n    const closeGalleryOnHistoryPopState = () => {\n      if (galleryUID === undefined) {\n        return;\n      }\n      if (pswp !== null) {\n        pswp.close();\n      }\n    };\n    window.addEventListener('popstate', closeGalleryOnHistoryPopState);\n    instance.on('destroy', () => {\n      if (galleryUID !== undefined) {\n        window.removeEventListener('popstate', closeGalleryOnHistoryPopState);\n        // if hash includes gid and pid => this destroy was called with ordinary instance.close() call\n        // if not => destroy was called by history.back (browser's back button) => history has been already returned to previous state\n        if (hashIncludesNavigationQueryParams(getHashValue())) {\n          window.history.back();\n        }\n      }\n      pswp = null;\n    });\n    instance.init();\n    if (typeof onOpen === 'function') {\n      onOpen(instance);\n    }\n  }, [options, plugins, uiElements, galleryUID, onBeforeOpen, onOpen, withCaption, withDownloadButton]);\n  useEffect(() => {\n    return () => {\n      if (pswp) {\n        pswp.close();\n      }\n    };\n  }, []);\n  const openGalleryBasedOnUrlHash = useCallback(() => {\n    if (galleryUID === undefined) {\n      return;\n    }\n    if (pswp !== null) {\n      return;\n    }\n    const hash = getHashValue();\n    if (hash.length < 5) {\n      return;\n    }\n    const params = hashToObject(hash);\n    const {\n      pid,\n      gid\n    } = params;\n    if (!pid || !gid) {\n      return;\n    }\n    if (items.current.size === 0) {\n      // no items currently, save PID from hash for future use\n      openWhenReadyPid.current = pid;\n      return;\n    }\n    if (pid && gid === String(galleryUID)) {\n      open(null, pid);\n    }\n  }, [open, galleryUID]);\n  useEffect(() => {\n    openGalleryBasedOnUrlHash();\n    // needed for case when gallery was firstly opened, then was closed and user clicked on browser's forward button\n    window.addEventListener('popstate', openGalleryBasedOnUrlHash);\n    return () => {\n      window.removeEventListener('popstate', openGalleryBasedOnUrlHash);\n    };\n  }, [openGalleryBasedOnUrlHash]);\n  const remove = useCallback(ref => {\n    items.current.delete(ref);\n  }, []);\n  const set = useCallback((ref, data) => {\n    const {\n      id\n    } = data;\n    items.current.set(ref, data);\n    if (openWhenReadyPid.current === null) {\n      return;\n    }\n    if (id === openWhenReadyPid.current) {\n      // user provided `id` prop of Item component\n      open(ref);\n      openWhenReadyPid.current = null;\n      return;\n    }\n    if (!id) {\n      // in this case we using index of item as PID\n      const index = parseInt(openWhenReadyPid.current, 10) - 1;\n      const refToOpen = Array.from(items.current.keys())[index];\n      if (refToOpen) {\n        open(refToOpen);\n        openWhenReadyPid.current = null;\n      }\n    }\n  }, [open]);\n  const openAt = useCallback(index => {\n    open(null, null, index);\n  }, [open]);\n  const contextValue = useMemo(() => ({\n    remove,\n    set,\n    handleClick: open,\n    open: openAt\n  }), [remove, set, open, openAt]);\n  return React.createElement(Context.Provider, {\n    value: contextValue\n  }, children, contentPortal);\n};\nGallery.propTypes = {\n  children: PropTypes.any,\n  options: PropTypes.object,\n  plugins: PropTypes.func,\n  uiElements: PropTypes.array,\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  onBeforeOpen: PropTypes.func,\n  onOpen: PropTypes.func,\n  withCaption: PropTypes.bool,\n  withDownloadButton: PropTypes.bool\n};","var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport { useRef, useCallback, useContext, useLayoutEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Context } from \"./context.js\";\n/**\n * Gallery item\n *\n * Should be a children of Gallery component\n */\nexport const Item = _a => {\n  var {\n      children\n    } = _a,\n    restProps = __rest(_a, [\"children\"]);\n  const ref = useRef();\n  const {\n    remove,\n    set,\n    handleClick\n  } = useContext(Context);\n  const open = useCallback(e => handleClick(ref, null, null, e), []);\n  useLayoutEffect(() => {\n    set(ref, restProps);\n    return () => remove(ref);\n  }, Object.values(restProps));\n  return children({\n    ref,\n    open\n  });\n};\nItem.propTypes = {\n  children: PropTypes.func.isRequired,\n  original: PropTypes.string,\n  originalSrcset: PropTypes.string,\n  thumbnail: PropTypes.string,\n  width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  alt: PropTypes.string,\n  caption: PropTypes.string,\n  content: PropTypes.element,\n  html: PropTypes.string,\n  id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  cropped: PropTypes.bool\n};","import React, { useState, useCallback } from \"react\"\nimport { useStaticQuery, graphql } from \"gatsby\"\nimport Img from \"gatsby-image\"\nimport { Gallery, Item } from 'react-photoswipe-gallery'\n\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\n\nimport '../styles/photos.css'\n\nconst ImageGallery = ({ data, location }) => {\n  //const siteTitle = data.site.siteMetadata.title\n  const siteTitle = \"HI\"\n\n  const imgData = useStaticQuery(graphql`\n    query {\n      site {\n        siteMetadata {\n          title\n        }\n      }\n      allFile(filter: { extension: { regex: \"/(jpg)|(png)|(jpeg)/\" } }) {\n        edges {\n          node {\n            base\n            childImageSharp {\n              fluid {\n                ...GatsbyImageSharpFluid\n              }\n            }\n          }\n        }\n      }\n    }\n  `)\n\n  return (\n    <Layout location={location} title={siteTitle}>\n      <SEO title=\"Photos\" />\n      <div className=\"image-gallery\">\n        <Gallery>\n          {imgData.allFile.edges.map((image, index) => (\n            <Item\n              original={image.node.childImageSharp.fluid.src}\n              thumbnail={image.node.childImageSharp.fluid.src}\n              width=\"1024\"\n              height=\"768\"\n              key={index}\n            >\n              {({ ref, open }) => (\n                <img ref={ref} onClick={open} src={image.node.childImageSharp.fluid.src} />\n              )}\n            </Item>\n          ))}\n        </Gallery>\n      </div>\n    </Layout>\n  )\n}\n\nexport default ImageGallery\n"],"names":["NoRefError","Error","constructor","super","arguments","this","message","a","b","Element","compareDocumentPosition","obj","Object","entries","map","key","value","join","hash","split","reduce","acc","keyValue","gid","pid","window","location","substring","pathname","search","hashParts","Boolean","index","targetId","parseInt","remove","set","handleClick","open","PhotoSwipeLightboxStub","pswp","on","bind","off","dispatch","__rest","s","e","t","p","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","Gallery","children","options","plugins","uiElements","id","galleryUID","onBeforeOpen","onOpen","withCaption","withDownloadButton","contentPortal","setContentPortal","useState","items","useRef","Map","openWhenReadyPid","useCallback","targetRef","itemIndex","normalized","Array","from","current","prepare","entry","ref","_a","width","height","original","originalSrcset","thumbnail","cropped","content","rest","undefined","String","push","assign","w","Number","h","src","srcset","msrc","element","thumbCropped","type","size","sort","forEach","initialPoint","clientX","clientY","x","y","instance","dataSource","initialPointerPos","slideContent","data","createPortal","ui","registerElement","name","ariaLabel","order","isButton","tagName","appendTo","html","isCustomSVG","inner","outlineID","onInit","el","pswpInstance","setAttribute","currSlide","href","style","position","bottom","left","right","padding","color","textAlign","fontSize","lineHeight","textShadow","caption","alt","innerHTML","isArray","uiElement","getHistoryState","gallery","history","pushState","document","title","state","baseUrl","currentHash","hashWithoutGidAndPid","urlWithoutOpenedSlide","urlWithOpenedSlide","replaceState","currIndex","closeGalleryOnHistoryPopState","close","addEventListener","removeEventListener","back","init","useEffect","openGalleryBasedOnUrlHash","params","delete","refToOpen","keys","openAt","contextValue","useMemo","Provider","propTypes","Item","restProps","useContext","useLayoutEffect","values","isRequired","_ref","imgData","useStaticQuery","React","Layout","SEO","className","allFile","edges","image","node","childImageSharp","fluid","_ref2","onClick"],"sourceRoot":""}