"use strict";(self.webpackChunklittle_laffs=self.webpackChunklittle_laffs||[]).push([[296],{5213:function(e,t,n){n.r(t),n.d(t,{default:function(){return C}});var r=n(7294),o=n(4160),i=(n(6162),n(5826)),l=n(3935),a=n(5697);class c extends Error{constructor(){super(...arguments),this.message="No valid `ref` provided.\nYou should use `ref` from render prop of Item component.\nExample:\n<Item>{({ ref }) => <div ref={ref}></div>}</Item>\n"}}var s=function(e,t){if(!(e instanceof Element&&t instanceof Element))throw new c;return e===t?0:2&e.compareDocumentPosition(t)?1:-1};var u=function(e){return Object.entries(e).map((([e,t])=>t?`${e}=${t}`:e)).join("&")};var d=function(e){return e.split("&").reduce(((e,t)=>{const[n,r]=t.split("=");return n&&(e[n]=r),e}),{})};var p=function(e){const t=d(e);return delete t.gid,delete t.pid,u(t)};var f=function(){return window.location.hash.substring(1)};var h=function(){return`${window.location.pathname}${window.location.search}`};var m=e=>{const t=d(e);return Boolean(t.gid)&&Boolean(t.pid)};var v=function(e,t){return null!==e?e:t?parseInt(t,10)-1:0};const g=r.createContext({remove:()=>{},set:()=>{},handleClick:()=>{},open:()=>{}});class w{constructor(e){this.pswp=e,this.on=e.on.bind(e),this.off=e.off.bind(e),this.dispatch=e.dispatch.bind(e)}}var y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};let b=null;const O=({children:e,options:t,plugins:n,uiElements:o,id:a,onBeforeOpen:c,onOpen:O,withCaption:E,withDownloadButton:S})=>{const[x,k]=(0,r.useState)(null),C=(0,r.useRef)(new Map),j=(0,r.useRef)(null),I=(0,r.useCallback)(((e,r,d,g)=>{if(b)return;let x=d||null;const j=[],I=Array.from(C.current),P=(t,n)=>{const[o,i]=t,{width:l,height:a,original:c,originalSrcset:s,thumbnail:u,cropped:d,content:p,id:f}=i,h=y(i,["width","height","original","originalSrcset","thumbnail","cropped","content","id"]);(e===o||void 0!==f&&String(f)===r)&&(x=n),j.push(Object.assign(Object.assign(Object.assign({w:Number(l),h:Number(a),src:c,srcset:s,msrc:u,element:o.current,thumbCropped:d,content:p},void 0!==p?{type:"html"}:{}),void 0!==f?{pid:f}:{}),h))};C.current.size>1?I.sort((([{current:e}],[{current:t}])=>s(e,t))).forEach(P):I.forEach(P);const $=g&&void 0!==g.clientX&&void 0!==g.clientY?{x:g.clientX,y:g.clientY}:null,A=new i.Z(Object.assign({dataSource:j,index:v(x,r),initialPointerPos:$},t||{}));b=A,A.on("contentActivate",(({content:e})=>{e.data.content?k((0,l.createPortal)(e.data.content,e.element)):k(null)})),A.on("close",(()=>{k(null)})),S&&A.on("uiRegister",(()=>{var e;null===(e=A.ui)||void 0===e||e.registerElement({name:"download-button",ariaLabel:"Download",order:8,isButton:!0,tagName:"a",appendTo:"bar",html:{isCustomSVG:!0,inner:'<path d="M20.5 14.3 17.1 18V10h-2.2v7.9l-3.4-3.6L10 16l6 6.1 6-6.1ZM23 23H9v2h14Z" id="pswp__icn-download"/>',outlineID:"pswp__icn-download"},onInit:(e,t)=>{e.setAttribute("download",""),e.setAttribute("target","_blank"),e.setAttribute("rel","noopener"),A.on("change",(()=>{var n;if(!(null===(n=t.currSlide)||void 0===n?void 0:n.data.src))return;e.href=t.currSlide.data.src}))}})})),E&&A.on("uiRegister",(()=>{var e;null===(e=A.ui)||void 0===e||e.registerElement({name:"default-caption",order:9,isButton:!1,appendTo:"root",onInit:(e,t)=>{e.style.position="absolute",e.style.bottom="15px",e.style.left="0",e.style.right="0",e.style.padding="0 20px",e.style.color="var(--pswp-icon-color)",e.style.textAlign="center",e.style.fontSize="14px",e.style.lineHeight="1.5",e.style.textShadow="1px 1px 3px var(--pswp-icon-color-secondary)",A.on("change",(()=>{if(!t.currSlide)return;const{caption:n,alt:r}=t.currSlide.data;e.innerHTML=n||r||""}))}})})),Array.isArray(o)&&o.forEach((e=>{A.on("uiRegister",(()=>{var t;null===(t=A.ui)||void 0===t||t.registerElement(e)}))})),"function"==typeof n&&n(new w(A)),"function"==typeof c&&c(A);const B=()=>({gallery:{galleryUID:a}});A.on("beforeOpen",(()=>{var e;if(void 0===a)return;if(!m(f()))return void window.history.pushState(B(),document.title);if(Boolean(null===(e=window.history.state)||void 0===e?void 0:e.gallery))return;const t=h(),n=f(),r=p(n),o=`${t}${r?`#${r}`:""}`,i=`${t}#${n}`;window.history.replaceState(window.history.state,document.title,o),window.history.pushState(B(),document.title,i)})),A.on("change",(()=>{var e;if(void 0===a)return;const t=(null===(e=A.currSlide)||void 0===e?void 0:e.data.pid)||A.currIndex+1,n=`${h()}#${p(f())}&${u({gid:a,pid:t})}`;window.history.replaceState(B(),document.title,n)}));const T=()=>{void 0!==a&&null!==b&&b.close()};window.addEventListener("popstate",T),A.on("destroy",(()=>{void 0!==a&&(window.removeEventListener("popstate",T),m(f())&&window.history.back()),b=null})),A.init(),"function"==typeof O&&O(A)}),[t,n,o,a,c,O,E,S]);(0,r.useEffect)((()=>()=>{b&&b.close()}),[]);const P=(0,r.useCallback)((()=>{if(void 0===a)return;if(null!==b)return;const e=f();if(e.length<5)return;const t=d(e),{pid:n,gid:r}=t;n&&r&&(0!==C.current.size?n&&r===String(a)&&I(null,n):j.current=n)}),[I,a]);(0,r.useEffect)((()=>(P(),window.addEventListener("popstate",P),()=>{window.removeEventListener("popstate",P)})),[P]);const $=(0,r.useCallback)((e=>{C.current.delete(e)}),[]),A=(0,r.useCallback)(((e,t)=>{const{id:n}=t;if(C.current.set(e,t),null!==j.current){if(n===j.current)return I(e),void(j.current=null);if(!n){const e=parseInt(j.current,10)-1,t=Array.from(C.current.keys())[e];t&&(I(t),j.current=null)}}}),[I]),B=(0,r.useCallback)((e=>{I(null,null,e)}),[I]),T=(0,r.useMemo)((()=>({remove:$,set:A,handleClick:I,open:B})),[$,A,I,B]);return r.createElement(g.Provider,{value:T},e,x)};O.propTypes={children:a.any,options:a.object,plugins:a.func,uiElements:a.array,id:a.oneOfType([a.string,a.number]),onBeforeOpen:a.func,onOpen:a.func,withCaption:a.bool,withDownloadButton:a.bool};var E=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const S=e=>{var{children:t}=e,n=E(e,["children"]);const o=(0,r.useRef)(),{remove:i,set:l,handleClick:a}=(0,r.useContext)(g),c=(0,r.useCallback)((e=>a(o,null,null,e)),[]);return(0,r.useLayoutEffect)((()=>(l(o,n),()=>i(o))),Object.values(n)),t({ref:o,open:c})};S.propTypes={children:a.func.isRequired,original:a.string,originalSrcset:a.string,thumbnail:a.string,width:a.oneOfType([a.number,a.string]),height:a.oneOfType([a.number,a.string]),alt:a.string,caption:a.string,content:a.element,html:a.string,id:a.oneOfType([a.number,a.string]),cropped:a.bool};var x=n(5592),k=n(8183);var C=e=>{let{data:t,location:n}=e;const i=(0,o.K2)("4036593196");return r.createElement(x.Z,{location:n,title:"HI"},r.createElement(k.Z,{title:"Photos"}),r.createElement("div",{className:"image-gallery"},r.createElement(O,null,i.allFile.edges.map(((e,t)=>r.createElement(S,{original:e.node.childImageSharp.fluid.src,thumbnail:e.node.childImageSharp.fluid.src,width:"1024",height:"768",key:t},(t=>{let{ref:n,open:o}=t;return r.createElement("img",{ref:n,onClick:o,src:e.node.childImageSharp.fluid.src})})))))))}}}]);
//# sourceMappingURL=component---src-pages-photos-js-ff4f4176ea0b3b562d56.js.map